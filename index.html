<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Taxi ‚Äì kalkulaƒçka & taxameter</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f2f2f2;
  margin: 0;
  padding: 15px;
}

h1 {
  text-align: center;
}

.card {
  background: white;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 15px;
}

label {
  font-weight: 600;
  display: block;
  margin-top: 10px;
}

input, select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  margin-top: 5px;
}

.result {
  font-size: 18px;
  margin-top: 10px;
  font-weight: bold;
}

.green { color: green; }
.red { color: red; }
.hidden { display: none; }
</style>
</head>

<body>

<h1>üöï Taxi aplik√°cia</h1>

<div class="card">
  <label>Re≈æim aplik√°cie</label>
  <select id="mode">
    <option value="costs">Kalkulaƒçka n√°kladov</option>
    <option value="taximeter">Taxameter</option>
  </select>
</div>

<!-- KALKULAƒåKA N√ÅKLADOV -->
<div id="costs" class="card">

  <label>Sadzba za 1 km (n√°klady)</label>
  <input type="number" id="costRate" value="0.31" step="0.01">

  <label>Najazden√© kilometre</label>
  <input type="number" id="costKm" value="0" step="0.1">

  <label>Cena jazdy (zad√° vodiƒç)</label>
  <input type="number" id="ridePrice" value="0" step="0.1">

  <div class="result" id="costResult">N√°klady: 0 ‚Ç¨</div>
</div>

<!-- TAXAMETER -->
<div id="taximeter" class="card hidden">

  <label>Sadzba pristavenie</label>
  <input type="number" id="startRate" value="0.40" step="0.01">

  <label>Sadzba za 1 km</label>
  <input type="number" id="kmRate" value="0.85" step="0.01">

  <label>Km k n√°stupu klienta</label>
  <input type="number" id="toClientKm" value="0" step="0.1">

  <label>Km s klientom</label>
  <input type="number" id="withClientKm" value="0" step="0.1">

  <label>Pr√≠platky</label>
  <input type="number" id="extras" value="0" step="0.1">

  <div class="result" id="taxiResult">Cena jazdy: 0 ‚Ç¨</div>
</div>

<script>
const mode = document.getElementById("mode");
const costs = document.getElementById("costs");
const taximeter = document.getElementById("taximeter");

mode.onchange = () => {
  costs.classList.toggle("hidden", mode.value !== "costs");
  taximeter.classList.toggle("hidden", mode.value !== "taximeter");
};

document.querySelectorAll("input").forEach(i => {
  i.oninput = calculate;
});

function calculate() {
  // N√°klady
  const rate = +costRate.value;
  const km = +costKm.value;
  const price = +ridePrice.value;

  const costsValue = rate * km;
  const profit = price - costsValue;

  costResult.innerText = `N√°klady: ${costsValue.toFixed(2)} ‚Ç¨ | V√Ωsledok: ${profit.toFixed(2)} ‚Ç¨`;
  costResult.className = "result " + (profit >= 0 ? "green" : "red");

  // Taxameter
  const start = +startRate.value;
  const kmRateVal = +kmRate.value;
  const toClient = +toClientKm.value;
  const withClient = +withClientKm.value;
  const extra = +extras.value;

  const taxiPrice =
    (toClient * start) +
    (withClient * kmRateVal) +
    extra;

  taxiResult.innerText = `Cena jazdy: ${taxiPrice.toFixed(2)} ‚Ç¨`;
}
calculate();
</script>

</body>
</html>
